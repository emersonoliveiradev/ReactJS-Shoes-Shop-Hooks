{"ast":null,"code":"var _jsxFileName = \"/home/haw/VisualStudioCode/Go-Stack/shoesshopwebhooks/src/pages/Home/index.js\";\nimport React, { Component } from 'react';\nimport { MdShoppingCart } from 'react-icons/md';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { formatPrice } from '../../util/format';\nimport api from '../../services/api';\nimport * as CartActions from '../../store/modules/cart/actions';\nimport { ProductList } from './styles';\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleAddproduct = id => {\n      const {\n        addToCartRequest\n      } = this.props;\n      addToCartRequest(id);\n    };\n\n    this.state = {\n      products: []\n    };\n  }\n\n  async componentDidMount() {\n    const response = await api.get('products');\n    const data = response.data.map(product => ({ ...product,\n      priceFormated: formatPrice(product.price)\n    }));\n    this.setState({\n      products: data\n    });\n  }\n\n  render() {\n    const {\n      products\n    } = this.state;\n    const {\n      amount\n    } = this.props;\n    return /*#__PURE__*/React.createElement(ProductList, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 7\n      }\n    }, products.map(product => /*#__PURE__*/React.createElement(\"li\", {\n      key: product.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: product.image,\n      alt: product.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }\n    }, product.strong), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }\n    }, product.priceFormated), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: () => this.handleAddproduct(product.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(MdShoppingCart, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }\n    }), \" \", amount[product.id] || 0), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 15\n      }\n    }, \"Adicionar ao carrinho\")))));\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => bindActionCreators(CartActions, dispatch);\n\nconst mapStateToProps = state => ({\n  amount: state.cart.reduce((amount, product) => {\n    amount[product.id] = product.amount;\n    return amount;\n  }, {})\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);","map":{"version":3,"sources":["/home/haw/VisualStudioCode/Go-Stack/shoesshopwebhooks/src/pages/Home/index.js"],"names":["React","Component","MdShoppingCart","connect","bindActionCreators","formatPrice","api","CartActions","ProductList","Home","constructor","props","handleAddproduct","id","addToCartRequest","state","products","componentDidMount","response","get","data","map","product","priceFormated","price","setState","render","amount","image","title","strong","mapDispatchToProps","dispatch","mapStateToProps","cart","reduce"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { MdShoppingCart } from 'react-icons/md'\n\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\n\nimport { formatPrice } from '../../util/format'\nimport api from '../../services/api'\n\nimport * as CartActions from '../../store/modules/cart/actions'\n\nimport { ProductList } from './styles'\n\nclass Home extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      products: [],\n    }\n  }\n\n  async componentDidMount() {\n    const response = await api.get('products')\n\n    const data = response.data.map((product) => ({\n      ...product,\n      priceFormated: formatPrice(product.price),\n    }))\n\n    this.setState({\n      products: data,\n    })\n  }\n\n  handleAddproduct = (id) => {\n    const { addToCartRequest } = this.props\n\n    addToCartRequest(id)\n  }\n\n  render() {\n    const { products } = this.state\n    const { amount } = this.props\n\n    return (\n      <ProductList>\n        {products.map((product) => (\n          <li key={product.id}>\n            <img src={product.image} alt={product.title} />\n            <strong>{product.strong}</strong>\n            <span>{product.priceFormated}</span>\n            <button\n              type=\"button\"\n              onClick={() => this.handleAddproduct(product.id)}\n            >\n              <div>\n                <MdShoppingCart /> {amount[product.id] || 0}\n              </div>\n              <span>Adicionar ao carrinho</span>\n            </button>\n          </li>\n        ))}\n      </ProductList>\n    )\n  }\n}\n\nconst mapDispatchToProps = (dispatch) =>\n  bindActionCreators(CartActions, dispatch)\n\nconst mapStateToProps = (state) => ({\n  amount: state.cart.reduce((amount, product) => {\n    amount[product.id] = product.amount\n    return amount\n  }, {}),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home)\n"]},"metadata":{},"sourceType":"module"}